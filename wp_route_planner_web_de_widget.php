<?php//Wrapper Klasse zur Anzeige des Widgets und Handling der Widget Funktionen von Wordpressclass WPRoutePlannerWebDeWidget extends WP_Widget {	public function __construct()   {		parent::__construct(	 		'wp_route_planner_web_de_widget', 			'Web.de Routenplaner', 			array('description' => 'Anzeige des Web.de Routenplaner Formulars', 'classname' => 'route_planner' )		);	}	public function widget( $args, $instance )   {		extract( $args );		$title = apply_filters( 'widget_title', $instance['title'] );		echo $before_widget;		if ( ! empty( $title ) )			echo $before_title . $title . $after_title;		    global $WPRoutePlannerWebDe;    echo $WPRoutePlannerWebDe->display_route_planner($instance);    		echo $after_widget;	}	public function update( $new_instance, $old_instance )   {		$instance = array();		$instance['title'] = strip_tags( $new_instance['title'] );    $instance['to_street'] = strip_tags( $new_instance['to_street'] );    $instance['to_plz'] = strip_tags( $new_instance['to_plz'] );    $instance['to_city'] = strip_tags( $new_instance['to_city'] );    $instance['to_country'] = strip_tags( $new_instance['to_country'] );		return $instance;	}	public function form( $instance )   {    $title = isset($instance['title']) ? $instance['title'] : 'Routenplaner';    $to_street = isset($instance['to_street']) ? $instance['to_street'] : '';    $to_plz = isset($instance['to_plz']) ? $instance['to_plz'] : '';    $to_city = isset($instance['to_city']) ? $instance['to_city'] : '';    $to_country = isset($instance['to_country']) ? $instance['to_country'] : '';		    global $WPRoutePlannerWebDe;    		?>		<p>		<label for="<?php echo $this->get_field_id( 'title' ); ?>">Titel</label> 		<input class="widefat" id="<?php echo $this->get_field_id( 'title' ); ?>" name="<?php echo $this->get_field_name( 'title' ); ?>" type="text" value="<?php echo esc_attr( $title ); ?>" />		</p>        <p>		<label for="<?php echo $this->get_field_id( 'to_street' ); ?>">Zieladresse</label> 		<input class="widefat" id="<?php echo $this->get_field_id( 'to_street' ); ?>" name="<?php echo $this->get_field_name( 'to_street' ); ?>" type="text" value="<?php echo esc_attr( $to_street ); ?>" />		</p>        <p>		<label for="<?php echo $this->get_field_id( 'to_plz' ); ?>">Ziel PLZ</label> 		<input class="widefat" id="<?php echo $this->get_field_id( 'to_plz' ); ?>" name="<?php echo $this->get_field_name( 'to_plz' ); ?>" type="text" value="<?php echo esc_attr( $to_plz ); ?>" />		</p>        <p>		<label for="<?php echo $this->get_field_id( 'to_city' ); ?>">Zielort</label> 		<input class="widefat" id="<?php echo $this->get_field_id( 'to_city' ); ?>" name="<?php echo $this->get_field_name( 'to_city' ); ?>" type="text" value="<?php echo esc_attr( $to_city ); ?>" />		</p>        <p>		<label for="<?php echo $this->get_field_name( 'to_country' ); ?>">Zielland</label> <br/>    <?php echo $WPRoutePlannerWebDe->generateCountrySelect($this->get_field_name( 'to_country' ), 5, $to_country); ?>		</p>		<?php 	}}?>